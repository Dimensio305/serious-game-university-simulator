@startuml

class PersonnagePrincipal {
    - planning: Planning
    + consulterPlanning(): void
    + ajouterJour(jour: Jour): void
}

class PersonnageStandard {
    - nom: String
    - type: String
    - categorie: Categorie
    + poserQuestion(): Action
}

class Planning {
    - jours: List<Jour>
    + ajouterJour(jour: Jour): void
    + obtenirJour(date: String): Jour
}

class Jour {
    - rdv: RendezVous
    - actions: List<Action> (max 8)
    + ajouterAction(action: Action): void
    + obtenirRdv(): RendezVous
}

class RendezVous {
    - heure: String
    + planifier(heure: String): void
    + annuler(): void
}

class Action {
    - question: String
    - reponses: String[2]
    - jaugesImpactees: List<Jauge>
    - planningImpacte: Boolean
    + poserQuestion(): String
    + repondre(reponse: int): void
}

class Jauge {
    - nom: String
    - valeur: int
    + influencer(valeur: int): void
    + obtenirValeur(): int
}

class InterfaceGraphique {
    - jauges: List<Jauge}
    - affichagePersonnage: Personnage
    + majAffichage(): void
    + afficherQuestion(action: Action): void
    + majJauges(jauge: Jauge): void
    + changerAffichagePersonnage(personnage: Personnage): void
}

class GestionBaseSQLite {
    + connecter(): void
    + executerRequete(): void
    + viderBase(): void
    + obtenirQuestions(): List<Question>
    + obtenirReponses(question: Question): List<Reponse>
    + obtenirCategories(): List<Categorie>
}

class Question {
    - id: int
    - texte: String
    - categorie: Categorie
}

class Reponse {
    - id: int
    - texte: String
    - question: Question
    - impactJauge: List<Jauge>
}

class Categorie {
    - id: int
    - nom: String
}

PersonnagePrincipal --> Planning
PersonnageStandard --> Action
PersonnageStandard --> Categorie
Planning --> Jour
Jour --> Action
Jour --> RendezVous
Action --> Jauge
InterfaceGraphique --> Jauge
InterfaceGraphique --> Personnage

GestionBaseSQLite --> Question
GestionBaseSQLite --> Reponse
GestionBaseSQLite --> Categorie

Question --> Categorie
Reponse --> Question
Reponse --> Jauge

@enduml
